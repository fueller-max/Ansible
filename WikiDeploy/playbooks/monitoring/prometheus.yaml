 # Prometheus infrastructure setup 

# - name: Install Prometheus for Monitoring Server
#   hosts: monitoring
#   collections:
#           - prometheus.prometheus
#   roles:
#           - prometheus   

# - name: Install Node Exporter on hosts
#   hosts: all
#   collections:
#           - prometheus.prometheus
#   roles:
#           - node_exporter

# - name: Install Nginx Exporter for LoadBalancer
#   hosts: loadbalancer
#   collections:
#           - prometheus.prometheus
#   roles:
#           - nginx_exporter


# - name: Install Postgres Exporter for PostgreSQL Master
#   hosts: db2
#   collections:
#           - prometheus.prometheus
#   roles:
#           - postgres_exporter


- name: Manage config for Prometheus 
  hosts: monitor
  become: yes
  roles:
      - prometheus_cfg

